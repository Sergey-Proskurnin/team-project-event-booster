{"version":3,"sources":["webpack:///./templates/eventsCardTmpl.hbs","webpack:///./js/apiService.js","webpack:///./js/renderEventCards.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","lambda","alias2","escapeExpression","alias3","nullContext","alias4","hooks","helperMissing","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","NewApiService","this","searchQuery","numberPage","fetchApi","searchParams","URLSearchParams","keyWord","source","countryCode","page","size","apikey","url","BASE_URL","fetch","response","ok","Error","console","log","json","_embedded","incrementPage","events","resetPage","newQuery","apiService","inputSearch","document","querySelector","eventCardsRef","e","preventDefault","galleryArray","appendEventMarkup","insertAdjacentHTML","eventsCardTmpl","addEventListener","query","then"],"mappings":"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","file":"main.f226eb111b9982062527.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"event-card\\\">\\r\\n    <img\\r\\n      class=\\\"event-image\\\"\\r\\n      src=\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"images\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1)) != null ? lookupProperty(stack1,\"url\") : stack1), depth0))\n    + \"\\r\\n      alt=\\\"\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":11},\"end\":{\"line\":6,\"column\":19}}}) : helper)))\n    + \"\\\"\\r\\n      width=\\\"320\\\" \\r\\n    />\\r\\n  <h3 class=\\\"event-title\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":26},\"end\":{\"line\":9,\"column\":34}}}) : helper)))\n    + \"</h3>\\r\\n  <p class=\\\"event-date\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"dates\") : depth0)) != null ? lookupProperty(stack1,\"start\") : stack1)) != null ? lookupProperty(stack1,\"localDate\") : stack1), depth0))\n    + \"</p>\\r\\n  <p class=\\\"event-place\\\"><span class=\\\"material-icons\\\">\\r\\nroom\\r\\n</span>Place</p>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":15,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const BASE_URL = 'https://app.ticketmaster.com/discovery/v2/events.json';\r\nconst API_KEY = 'k4ZuaibW7VaW2DqWiJtNRmwq3dAdRpv6';\r\n\r\nexport default class NewApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.numberPage = 1;\r\n  }\r\n  async fetchApi() {\r\n    const searchParams = new URLSearchParams({\r\n      keyWord: this.searchQuery,\r\n      source: 'universe',\r\n      countryCode: 'US',\r\n      page: this.numberPage,\r\n      size: 20,\r\n      apikey: API_KEY,\r\n    });\r\n    const url = `${BASE_URL}?${searchParams}`;\r\n    const response = await fetch(url);\r\n    if (!response.ok) {\r\n      throw new Error(console.log('Error'));\r\n    }\r\n    const { _embedded } = await response.json();\r\n    // if (hits.length === 0 && this.numberPage === 1) {\r\n    //   return 'error';\r\n    // }\r\n    this.incrementPage();\r\n    console.log(_embedded.events);\r\n    return await _embedded.events;\r\n  }\r\n  incrementPage() {\r\n    this.numberPage += 1;\r\n  }\r\n  resetPage() {\r\n    this.numberPage = 1;\r\n  }\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n// const inputSearch = document.querySelector('.form-submit')\r\n// console.log(inputSearch);\r\n// inputSearch.addEventListener('submit', onSearch)\r\n\r\n// const galleryApiService = new NewApiService();\r\n// galleryApiService.query = 'eagles'\r\n// console.log(galleryApiService);\r\n\r\n// async function onSearch(e){\r\n//     e.preventDefault();\r\n//     const galleryArrey = await galleryApiService.fetchApi();\r\n//       return galleryArrey;\r\n// }\r\n\r\n// onSearch()\r\n","import NewApiService from './apiService';\r\nimport eventsCardTmpl from '../templates/eventsCardTmpl.hbs';\r\n\r\nconst apiService = new NewApiService();\r\nconst inputSearch = document.querySelector('.form-submit');\r\nconst eventCardsRef = document.querySelector('.event-cards');\r\n\r\nconsole.log(inputSearch);\r\ninputSearch.addEventListener('submit', onSearch);\r\n\r\napiService.query = 'eagles';\r\nconsole.log(apiService);\r\n\r\nasync function onSearch(e) {\r\n  e.preventDefault();\r\n  const galleryArray = await apiService.fetchApi();\r\n  return galleryArray;\r\n}\r\nfunction renderEventCards() {\r\n  return apiService.fetchApi().then(appendEventMarkup);\r\n}\r\n\r\nfunction appendEventMarkup(events) {\r\n  eventCardsRef.insertAdjacentHTML('beforeend', eventsCardTmpl(events));\r\n}\r\n\r\nrenderEventCards();\r\n"],"sourceRoot":""}